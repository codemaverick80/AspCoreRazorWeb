@page
@{
}


<div class="container row p-0 m-0">
    <div class="col-12">
        <h3 class="text-info">Create Artist</h3>
    </div>


    <div class="col-12 p-3 mt-3">
        <div class="form col-6">
            <ul id="form-message">
                <li>Genric Error #1</li>
            </ul>

            <div class="form-group row">
                <label for="name" class="col-sm-3 col-form-label">Artist Name</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="name" placeholder="Artist Name">
                </div>
            </div>


            <div class="form-group row">
                <label for="yearActive" class="col-sm-3 col-form-label">Year Active</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" id="yearActive" placeholder="Year Active">
                </div>
            </div>


            <button type="submit" class="btn btn-primary" id="btn-submit">Save</button>

            <button type="submit" class="btn btn-primary" id="btn-submit_a">Save A</button>


        </div>
    </div>



</div>


@section Scripts{
    <script src="~/js/storeFetchApi.js"></script>

    <script type="text/javascript">


        const form = {
            artistName: document.getElementById('name'),
            yearActive: document.getElementById('yearActive'),

            submit: document.getElementById('btn-submit'),
            submit_a: document.getElementById('btn-submit_a'),
            messages: document.getElementById('form-message')

        }

       
        // console.log(form);


        form.submit.addEventListener('click', () => {
            //console.log('button pressed!')

            const data = {
                Name: form.artistName.value,
                YearActive: form.yearActive.value
            }
            console.log(data);

            const http = new storeFetchApi();
            http.post('/api/artist/createartist', data)
                .then(function (res) {
                    console.log(res)
                })
                .catch(err => console.log(err));

        });


        form.submit_a.addEventListener('click', () => {
            //console.log('button pressed!')

            const data = {
                Name: form.artistName.value,
                YearActive: form.yearActive.value
            }
            console.log(data);

            const http = new storeFetchApi();
            http.post('/api/artist/createartist_a', data)
                .then(function (res) {
                    console.log(res)
                })
            .catch(err => console.log(err));

        });

    </script>

}
